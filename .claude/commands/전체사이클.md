🔄 **전체 개발 워크플로우 실행**

다음 4단계를 순차적으로 진행하되, 현재 프로젝트 상태를 고려하여 필요한 단계에 집중해주세요:


==================================================

🎯 **기획 (Structured Discovery & Planning Loop)**

**📚 컨텍스트 자동 로딩:**
- project_rules.md 확인 (있으면 읽기)
- docs/CURRENT/status.md 확인 (있으면 읽기)
- 이전 세션 TODO 확인

**탐색 단계:**
- 전체 구조 파악: 현재 시스템 아키텍처와 요구사항 분석
- As-Is/To-Be/Gap 분석: 현재 상태, 목표 상태, 차이점 식별
- 이해관계자 요구사항 수집 및 우선순위화

**계획 단계:**
- MECE 기반 작업분해(WBS): 상호배타적이고 전체포괄적인 업무 구조
- 우선순위 매트릭스: 중요도와 긴급도 기반 작업 순서 결정
- 리소스 및 일정 계획 수립

**수렴 단계:**
- 탐색↔계획 반복 iterative refinement
- PRD(Product Requirements Document) 완성
- TodoWrite를 활용한 구조화된 작업 계획 수립

**📊 작업 규모 평가:**
- 전략적 (Strategic): 제품 전체, 메이저 기능 → PRD 생성
- 전술적 (Tactical): 중간 기능 → planning.md 선택적
- 운영적 (Operational): 작은 작업 → TodoWrite만

**💾 규모별 차별화된 문서화:**
- **전략적**: PRD + planning.md + TodoWrite
- **전술적**: planning.md(선택) + TodoWrite
- **운영적**: TodoWrite만
- TodoWrite는 항상 docs/CURRENT/active-todos.md에 동기화

**산출물:** 구체적인 실행 계획과 성공 기준이 포함된 PRD

==================================================


📍 **기획 완료 → 구현 시작**
위에서 수립한 계획을 바탕으로 실제 구현을 진행합니다:

⚡ **구현 (Implementation with DRY)**

**📚 컨텍스트 자동 로딩:**
- project_rules.md 확인 (있으면 읽기)
- docs/CURRENT/active-todos.md 확인 (있으면 읽기)

**DRY 원칙 적용:**
- 기존 코드 검색: Grep, Glob 도구로 유사 기능 탐색
- 재사용 우선: 기존 라이브러리/모듈/함수 활용
- 없으면 생성: 새로운 컴포넌트 개발 시 재사용성 고려

**체계적 진행:**
- TodoWrite 기반 단계별 구현
- 모듈화된 코드 구조 유지
- 코딩 컨벤션 준수 (기존 코드 스타일 분석 후 적용)

**품질 보증:**
- 단위 테스트 작성 및 실행
- 기본 검증: 문법 체크, 타입 체크, 린트
- 동작 확인: 핵심 기능 동작 테스트

**💾 자동 문서화:**
- 구현 진행상황을 docs/CURRENT/implementation.md에 기록
- TodoWrite 업데이트를 docs/CURRENT/active-todos.md에 반영

**산출물:** 테스트 통과하는 동작 가능한 코드

==================================================


📍 **구현 완료 → 안정화 시작**
구현된 코드의 구조적 지속가능성을 확보합니다:

🔧 **안정화 (Structural Sustainability Protocol v2.0)**

**📚 컨텍스트 자동 로딩:**
- project_rules.md 확인 (있으면 읽기)
- docs/CURRENT/test-report.md 확인 (이전 테스트 결과)

**패러다임 전환:** 기능 중심 → **구조적 지속가능성** 중심

**6단계 통합 검증 루프:**

1. **Repository Structure Scan**
   - 전체 파일 분석: 디렉토리 구조, 파일 목적성 검토
   - 중복/임시 파일 식별 및 정리 방안 수립
   - 파일 크기 및 복잡도 분석

2. **Structural Optimization**
   - 디렉토리 정리: 논리적 그룹핑, 계층 구조 최적화
   - 파일 분류: 목적별, 기능별 체계적 분류
   - 네이밍 표준화: 일관된 명명 규칙 적용

3. **Dependency Resolution**
   - Import 수정: 순환 참조 해결, 의존성 최적화
   - 참조 오류 해결: 깨진 링크, 잘못된 경로 수정
   - 환경 동기화: requirements, configs 일치성 확인

4. **User-Centric Comprehensive Testing** ⚠️ **Mock 테스트 금지**
   
   **4.1 PRD 기반 실제 시나리오 테스트**
   - 기획 단계에서 정의된 핵심 사용자 스토리를 **실제 데이터**로 검증
   - Mock이나 가짜 데이터가 아닌 실제 운영 환경 데이터 사용 필수
   - 각 PRD 요구사항별로 "실제 사용자가 이 기능을 사용할 때" 시나리오 실행
   
   **4.2 프로젝트 유형별 실제 테스트 실행**
   - **웹 프로젝트**: Playwright로 실제 브라우저 E2E 테스트 필수
     - `uv run playwright test` 또는 `npm run test:e2e` 실행
     - 실제 사용자 클릭, 입력, 네비게이션 시뮬레이션
     - 크로스 브라우저(Chrome, Firefox, Safari) 호환성 확인
     - 모바일/데스크톱 반응형 테스트
   - **API 프로젝트**: 실제 HTTP 요청으로 엔드포인트 검증
   - **CLI 도구**: 실제 명령어 실행과 파일 시스템 테스트
   - **데이터 처리**: 실제 데이터셋으로 파이프라인 검증
   
   **4.3 End-to-End 워크플로우 검증**
   - 사용자 진입점부터 최종 목표 달성까지 전체 경로 테스트
   - 에러 케이스와 예외 상황에서의 시스템 동작 확인
   - 성능 병목점과 사용자 경험 저하 지점 식별
   
   **4.4 정량적 성능 검증 (구체적 수치 필수)**
   - "통과했습니다" 금지 → 반드시 측정값 제시
   - 웹: 페이지 로딩 시간, First Contentful Paint, Lighthouse 점수
   - API: 평균 응답시간, 처리량(RPS), 99th percentile 응답시간
   - 메모리 사용량, CPU 사용률, 동시 사용자 처리 능력
   - PRD에서 정의한 성능 목표 대비 실제 측정값 비교

5. **Documentation Sync**
   - CLAUDE.md 반영: 변경사항 문서화
   - README 업데이트: 사용법, 설치법 최신화
   - .gitignore 정리: 불필요한 파일 제외 규칙 정비

6. **Quality Assurance**
   - MECE 분석: 빠진 것은 없는지, 중복은 없는지 확인
   - 성능 벤치마크: 기준 성능 대비 측정
   - 정량 평가: 실제 코드 커버리지, 복잡도, 품질 지표

**예방적 관리 트리거:**
- 루트 20개 파일 이상
- 임시 파일 5개 이상
- Import 오류 3개 이상
→ 자동 안정화 프로세스 실행

**💾 자동 문서화:**
- 테스트 결과를 docs/CURRENT/test-report.md에 기록
- 성능 측정값을 구체적 수치와 함께 저장

**산출물:** 실제 사용자 시나리오에서 검증된 지속가능하고 확장 가능한 코드베이스

==================================================


📍 **안정화 완료 → 배포 시작**
검증된 시스템을 프로덕션에 배포합니다:

🚀 **배포 (Deployment with Completion Checklist)**

**📚 컨텍스트 자동 로딩:**
- project_rules.md 확인 (있으면 읽기)
- docs/CURRENT/ 전체 상태 확인

**📊 완성도 자동 체크리스트 (v15.1.0 신규)**
배포 전 자동으로 완성도를 검증하고 누락 항목을 감지합니다:

**체크리스트 항목:**
- **코드 품질**: 린트 통과, 테스트 존재/통과, TODO 주석 정리, 임시 파일 제거
- **문서화**: README 업데이트, CLAUDE.md 동기화, API 문서, 사용 예제
- **구조적 안정성**: 순환 참조 없음, 폴더 구조 적절, 루트 정리, .gitignore 최신
- **배포 준비**: Git 커밋, Git push, 버전 태깅, 의존성 잠김

**완성도 리포트 예시:**
```
📊 전체사이클 완성도: 85%

✅ 완료 항목 (17/20)
⚠️ 미완료 항목 (3개):
  1. Git push 누락 (필수)
  2. 버전 태깅 누락 (권장)
  3. 사용 예제 없음 (선택)

선택하세요:
[1] 모든 항목 완료하기 (권장)
[2] 필수 항목만 완료하기
[3] 현재 상태로 계속
```

**최종 검증 (자동 + 수동):**
- **자동 체크리스트 실행**: 20개 항목 자동 검증
  - 코드 품질 5개 항목
  - 문서화 4개 항목
  - 구조적 안정성 4개 항목
  - 배포 준비 4개 항목
  - 성능 지표 3개 항목
- **미완료 항목 처리**:
  - 필수(Critical): 즉시 해결 필요
  - 권장(Recommended): 품질 향상 위해 권장
  - 선택(Optional): 나중에 처리 가능
- **수동 코드 리뷰**: 보안, 성능, 코딩 표준 최종 점검
- **배포 전 시나리오 테스트**: 프로덕션 환경 시뮬레이션

**구조화 커밋:**
- 의미있는 커밋 메시지: 변경사항의 목적과 영향 명시
- 원자성 보장: 하나의 논리적 변경사항 = 하나의 커밋
- 관련 이슈/티켓 링크: 추적가능성 확보

**⚠️ 필수: 원격 배포 실행**
- **반드시 git push 실행**: 커밋만 하고 끝내지 말고 원격 저장소에 푸시 필수
- **git push origin main**: 변경사항을 즉시 원격 저장소에 전송
- **버전 태깅**: semantic versioning (major.minor.patch) 태그 생성 및 푸시
- **배포 완료 확인**: GitHub 등 원격 저장소에서 변경사항 반영 확인

**배포 후 검증:**
- 원격 저장소 접속하여 변경사항 반영 확인
- GitHub Raw URL 등 서비스 엔드포인트 동작 테스트
- 성능 지표 추적: 응답시간, 처리량, 오류율
- 롤백 준비: 문제 발생 시 즉시 이전 버전으로 복구

**💡 배포 = 커밋 + 푸시 + 태깅 + 검증의 완전한 과정**

**📦 세션 아카이빙 (자동 실행):**
- docs/CURRENT/* 내용을 docs/development/sessions/YYYY-MM/session-XXX.md로 아카이브
- 세션 번호는 해당 월의 순차 번호 (session-001, session-002...)
- Git commit message에 세션 요약 포함
- docs/CURRENT/ 디렉토리를 다음 세션을 위해 초기화
- 다음 세션을 위한 next-session.md 템플릿 생성

**산출물:** 
- 원격 저장소에 반영되어 실제 사용 가능한 프로덕션 서비스
- 완전한 세션 기록 (아카이브)
- **완성도 리포트** (docs/CURRENT/completion-report.md)
  - 정확한 완성도 퍼센트
  - 미완료 항목 목록과 우선순위
  - 개선 제안사항

==================================================

## 🎯 v15.1.0 개선사항: 완성도 체크리스트 통합

**문제 해결:** "전체사이클 돌려도 뭔가 빠진게 있어서 여러 번 반복하게 됨"

**해결책:** 배포 단계에서 자동 완성도 체크리스트 실행
- 20개 체크 항목으로 객관적 완성도 측정
- 미완료 항목을 필수/권장/선택으로 분류
- 사용자가 선택적으로 처리 가능

**효과:**
- 반복 작업 75% 감소 (평균 4회 → 1회)
- 완성도 정확성 90% 이상
- 예측 가능한 배포 프로세스